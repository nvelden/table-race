shiny::runApp()
runApp()
runApp()
library(dplyr)
#Convert data to JSON format
data_to_json <- function(data) {
jsonlite::toJSON(
data,
dataframe = "rows",
auto_unbox = FALSE,
rownames = TRUE
)
}
#Covid data
#countryNames for Id matching
covidDataAll <- covid19()
countryNames <- data.frame(
id = covidDataAll$iso_alpha_3,
country = covidDataAll$administrative_area_level_1,
stringsAsFactors = FALSE
) %>% unique()
covidData <- function(selection){
covidData <- covid19(selection)
#Match Country names by ID
covidData <- left_join(covidData, countryNames) %>% select(., country, id, date, tests, confirmed, recovered, deaths, population)
#Filter days where no cases
covidData <- covidData %>% filter_at(vars(tests,confirmed, recovered,deaths),any_vars(!is.na(.)))
#Arrange by date and deaths
covidData <- covidData %>% arrange(., date, desc(deaths), desc(confirmed))
return(covidData)
}
data <- covidData(c("Switserland", "Belgium", "Netherlands", "USA", "Denmark", "UK"))
data
ata <- covidData(c("Switserland", "Belgium", "Netherlands", "USA", "Denmark", "UK"))
data <- data %>% ungroup()
data
runApp()
runApp()
runApp()
runApp()
